<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="" />
<meta property="og:description" content="05 - Methods In this chapter, we will discuss methods. We have been using them for a while now, without discussing them. Methods are a collection of statements that do exactly one thing - or at least they should only do one thing. The Update() method updates all the things you define each frame. The Start() method sets things up in the beginning. Creating or “defining” our own functions will do a lot for us." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://generativeunity.henrikgieselmann.com/docs/05_Functions/" />

<title>05 Functions | Generative Unity</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.d54f2886415be97240a76611f87e576a761d64c07020a767fa0ffd1bdc8bda93.css" integrity="sha256-1U8ohkFb6XJAp2YR&#43;H5XanYdZMBwIKdn&#43;g/9G9yL2pM=">


<script defer src="/search.min.c7e8bbeb9de0f5f1c6a8f366185decb422a6bcedb2634e90922203068af6af5c.js" integrity="sha256-x&#43;i7653g9fHGqPNmGF3stCKmvO2yY06QkiIDBor2r1w="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://generativeunity.henrikgieselmann.com"><span>Generative Unity</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    <ul>
<li><a href="/docs/00_Introduction/">Introduction</a></li>
<li><a href="/docs/01_The_Editor/">01 The Editor</a></li>
<li><a href="/docs/02_Moving_Things/">02 Moving Things</a></li>
<li><a href="/docs/03_The_Console/">03 The Console</a></li>
<li><a href="/docs/04_UserInput/">04 Conditionals</a></li>
<li><a href="/docs/05_Functions/"class=active>05 Methods</a></li>
<li><a href="/docs/06_MultipleObjects/">06 Multiple Objects</a></li>
<li><a href="/docs/07_ClassicGC/">07 Classic GC Techniques</a></li>
<li><a href="/docs/08_ClassesAndOOP/">08 Classes and OOP</a></li>
<li><a href="/docs/09_DelegatesAndEvents/">09 Delegates and Events</a></li>
<li><a href="/docs/10_BestPractices/">10 Best Practices</a></li>
<li><a href="/docs/11_StartingToDesign/">11 Design Considerations</a></li>
<li><a href="/docs/12_UserInterfaces/">12 User Interfaces</a></li>
<li><a href="/docs/13_Animation/">13 Animation</a></li>
<li><a href="/docs/14_Lighting/">14 Lighting</a></li>
<li><a href="/docs/15_Textures/">15 Textures</a></li>
<li><a href="/docs/16_Shaders/">16 Shaders</a></li>
<li><a href="/docs/17_Audio/">17 Audio</a></li>
<li><a href="/docs/18_Augmented/">18 Augmented Reality</a></li>
<li><a href="/docs/19_PostProcessingStack/">19 Post-Processing</a></li>
<li><a href="/docs/21_P1_ScifiTunnel/">20 P1 Sci-Fi Tunnel</a></li>
<li><a href="/docs/22_P2_WeatherApp/">21 P2 Weather Diorama</a></li>

<li><p><a href="/docs/23_P3_PianoDrivenEnvironment/">22 P3 Piano World</a></p></li>

<li><p><strong>Other</strong></p></li>

<li><p><a href="/docs/99_Github/">Github</a></p></li>

<li><p><a href="/docs/98_AdditionalResources/">Additional Resources</a></p></li>

<li><p><a href="/posts/">  </a></p></li>
</ul>





</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>05 Functions</strong>
</header>

      
<article class="markdown">

<h1 id="05-methods">05 - Methods</h1>

<p>In this chapter, we will discuss methods. We have been using them for a while now, without discussing them. Methods are a collection of statements that do exactly one thing - or at least they should only do one thing. The <code>Update()</code> method updates all the things you define each frame. The <code>Start()</code> method sets things up in the beginning. <br>
Creating or “defining” our own functions will do a lot for us. For one, it will help us avoid repetition in our code. Because of this, it will also help us write way more readable code. You might have noticed that some scripts have become rather confusing. Methods are a great way to bring some order back. Methods also take in arguments they can process to either change or vary what they are doing or return to you a useful value.
<blockquote class="book-hint info">
  <h4 id="methods-vs-functions">Methods vs. Functions</h4>

<p>Many other programming languages call methods “functions”. Many programmers started out in another language and still use the name function when they refer to C#. But they are the same thing and I can’t guarantee that I won’t slip up at one point and use function here or there.
</blockquote>
</p>

<h3 id="defining-methods">Defining methods</h3>

<p>To <em>define</em> a very simple method, we need to define two things: a so-called “return type” and name for our method. The most basic <em>return type</em> is <code>void</code> - meaning nothing. You don’t expect to get something returned to you. That is why our <code>Update()</code> and <code>Start()</code> methods use <code>void</code> as a return type. They just do their thing. Methods that typically have a return type are math operations, like a <code>Distance()</code> function. You provide two points as input and expect the distance in return. Let’s look at some examples.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">void</span> <span style="color:#06287e">TimeLogger</span>(){
    Debug.Log(Time.time);
}</code></pre></div>
This code defines a function that returns nothing but prints the current time to the console. You could then call a method at any point in your code, in the same script. Calling a method is as simple as using its name with parentheses but without the return type keyword. So let’s look at a whole script for this:</p>

<p><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">using UnityEngine;

public class <span style="color:#002070;font-weight:bold">LogTime</span>: MonoBehaviour
{
    <span style="color:#902000">void</span> Update()
    {
        TimeLogger();
    }

    <span style="color:#902000">void</span> TimeLogger()
    {
        Debug.Log( <span style="">“</span>The current timestamp <span style="color:#002070;font-weight:bold">is</span>:<span style="">”</span> <span style="color:#666">+</span> Time.time);
    }

}</code></pre></div>
As you can see, we define new methods at the same level as the <code>Start()</code> and <code>Update()</code> method. And you can define them <em>below</em> the line where you call them. Actually, we are defining the <code>Start()</code> and <code>Update()</code> methods in each script. The only difference between our methods and the methods pre-defined by Unity is, that Unity will try to call them automatically during execution, while we have to make sure our methods a called at some point.<br></p>

<p>So how can a simple <code>void</code> method help us with our code? As an example, let’s go back to the “Popping” cuboids from Chapter 04:
<figure>
    <img src="/img/ConditionalCuboids_Popping_Popping.gif" width="50%"/> 
</figure>
</p>

<p><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">public class <span style="color:#002070;font-weight:bold">ConditionalCuboidsPopping</span> : MonoBehaviour
{
    [SerializeField]
    private <span style="color:#902000">float</span> movementSpeed <span style="color:#666">=</span> <span style="color:#40a070">0.25f</span>;
    [SerializeField]
    private <span style="color:#902000">float</span> bounds <span style="color:#666">=</span> <span style="color:#40a070">.5f</span>;

    <span style="color:#902000">void</span> <span style="color:#06287e">Update</span>()
    {
        transform.Translate(<span style="color:#40a070">0</span>, movementSpeed, <span style="color:#40a070">0</span>);
        <span style="color:#007020;font-weight:bold">if</span> (transform.position.y <span style="color:#666">&gt;</span> bounds <span style="color:#666">+</span><span style="color:#40a070">.225f</span>)
        {
            transform.position <span style="color:#666">=</span> Vector3.up <span style="color:#666">*</span> <span style="color:#666">-</span>bounds;
        }
    }
}</code></pre></div>
While our <code>Update()</code> method is still reasonable in this case, to understand what is going on, we still have to read through rather “low level” code. We can clean this up by using methods. What is the line <code>transform.Translate(0, movementSpeed, 0);</code> doing? It’s moving the cuboid up. So let’s create a method for it.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">    <span style="color:#902000">void</span> <span style="color:#06287e">MoveCuboidUp</span>()
    {
        transform.Translate(<span style="color:#40a070">0</span>, movementSpeed, <span style="color:#40a070">0</span>);
    }</code></pre></div>
Now we can replace the original line with a <em>call</em> to this function:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">public class <span style="color:#002070;font-weight:bold">ConditionalCuboidsPoppingRefactored</span>: MonoBehaviour
{
    [SerializeField]
    private <span style="color:#902000">float</span> movementSpeed <span style="color:#666">=</span> <span style="color:#40a070">0.25f</span>;
    [SerializeField]
    private <span style="color:#902000">float</span> bounds <span style="color:#666">=</span> <span style="color:#40a070">.5f</span>;

    <span style="color:#902000">void</span> <span style="color:#06287e">Update</span>()
    {
        MoveCuboidUp();
        <span style="color:#007020;font-weight:bold">if</span> (transform.position.y <span style="color:#666">&gt;</span> bounds <span style="color:#666">+</span><span style="color:#40a070">.225f</span>)
        {
            transform.position <span style="color:#666">=</span> Vector3.up <span style="color:#666">*</span> <span style="color:#666">-</span>bounds;
        }
    }

    <span style="color:#902000">void</span> <span style="color:#06287e">MoveCuboidUp</span>()
    {
        transform.Translate(<span style="color:#40a070">0</span>, movementSpeed, <span style="color:#40a070">0</span>);
    }

}</code></pre></div>
What we are doing right now is called “refactoring”. We are restructuring and often simplifying or de-cluttering our code without changing what it does. Whenever you feel you are done with a script, consider if there is any useful refactoring to be done. We haven’t done it so far because we were missing the proper tools. But doing this helps you to create a beautiful and good to work with code base.<br>
So while we are at it? What more can we do? We have a part left where we check for the position and based on that pop the cuboid back down. We could put in a method called <code>CheckBoundsAndPopDown</code>. But wait! Didn’t we establish in the beginning that methods should only do one thing? They should! <br>
So let’s split both of them. Easy things first:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">    <span style="color:#902000">void</span> <span style="color:#06287e">PopCuboidDown</span>()
    {
        transform.position <span style="color:#666">=</span> Vector3.up <span style="color:#666">*</span> <span style="color:#666">-</span>bounds;
    }</code></pre></div>
Now all the methods we have been declaring so far just did things. But how can we simplify the <em>if-statement</em> further? It needs a boolean of <code>true</code> or <code>false</code> to evaluate. This where <em>return types</em> come in. We can make our method return either true or false like this:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">    <span style="color:#902000">bool</span> <span style="color:#06287e">CheckYGreaterBounds</span>()
    {
        <span style="color:#007020;font-weight:bold">return</span> transform.position.y <span style="color:#666">&gt;</span> bounds <span style="color:#666">+</span> <span style="color:#40a070">.225f</span>;
    }</code></pre></div>
Instead of <code>void</code> we define the type we want to return. It’s <code>bool</code> in our case, but could be anything. Then we need to make sure our method contains a <code>return</code> statement followed by the value we want to return. In the upper code we just rely on the evaluation of the statement to return either true or false. With his done let’s look at our <code>Update()</code> method.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">    <span style="color:#902000">void</span> <span style="color:#06287e">Update</span>()
    {
        MoveCuboidUp();
        <span style="color:#007020;font-weight:bold">if</span> (CheckYGreaterBounds())
        {
            PopCuboidDown();
        }
    }</code></pre></div>
Isn’t it a beauty? Consider coming back to this script in two weeks or a month. Checking <code>Update()</code> you know what is going on in the script. You don’t have to work through each line to understand what the whole script is doing. Why would you care how something is moving up or popping down? Or say, you need to change how the cuboid is moving up, you only need to check method <code>MoveCuboidUp()</code> and not all the code in the <code>Update()</code> method.</p>

<blockquote class="book-hint info">
  <h3 id="refactoring-tricks">Refactoring Tricks</h3>

<p>Assuming you are using the “Visual Studio Community” Edition that comes bundled with Unity, you can access some a shortcut in the IDE. If you select a line or multiple lines of code you want to refactor into a new method, you can press “Ctrl + .”. VS Community will then as you if you want to “Extract method”. Press enter and a new method including your code will be created. Also, you can now input a name for the method and method and a method call will have the same name.
</blockquote>


<h3 id="method-arguments">Method Arguments</h3>

<p>The last thing we need to concern ourselves with regarding methods are parameters and arguments. Parameters allow you to “pass” information to the method. We call this information an argument. You’ll see quite a few people using both things interchangeably. <br>
A very simple definition and call could look like this:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">int</span> <span style="color:#06287e">Add</span>(<span style="color:#902000">int</span> a, <span style="color:#902000">int</span> b){
	<span style="color:#007020;font-weight:bold">return</span> a <span style="color:#666">+</span> b;
}
<span style="color:#902000">int</span> result <span style="color:#666">=</span> Add(<span style="color:#40a070">1</span>, <span style="color:#40a070">1</span>); <span style="color:#666">//</span> returns <span style="color:#40a070">2</span></code></pre></div>
To add parameters to a method, we declare their type, an integer in this case, and a name for them in the parentheses we left empty until now. In the method itself, you can use these as normal variables. These are only visible to the method and you can’t use these variables outside the context of the method.<br>
To <em>pass</em> information, you add arguments to the function call. Here, this could be literal numbers or any variables that contain an integer. Important is, you <strong>have</strong> to specify all arguments. You can’t just specify a single integer in parentheses.<br>
Now you can see that the method we created is rather useless, but I hope it clarified the basic idea. Let’s look at a more advanced example: <br>
Insert Fading/Popping Cuboids here
While this is the Popping example from before, I introduced some fading towards the bounds. Let’s first look at the beginning of the script:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">using UnityEngine;

public class <span style="color:#002070;font-weight:bold">ConditionalCuboidsFading</span> : MonoBehaviour
{
    [SerializeField]
    private <span style="color:#902000">float</span> movementSpeed <span style="color:#666">=</span> <span style="color:#40a070">0.25f</span>;
    [SerializeField]
    private <span style="color:#902000">float</span> bounds <span style="color:#666">=</span> <span style="color:#40a070">.5f</span>;
    [SerializeField]
    private Color colorToSet;

    private <span style="color:#902000">void</span> <span style="color:#06287e">Start</span>()
    {
        colorToSet <span style="color:#666">=</span> GetComponent<span style="color:#666">&lt;</span>Renderer<span style="color:#666">&gt;</span>().material.color;
    }

    <span style="color:#902000">void</span> <span style="color:#06287e">Update</span>()
    {
        MoveCuboidUp();
        <span style="color:#007020;font-weight:bold">if</span> (CheckYGreaterBounds())
        {
            PopCuboidDown();
        }

        <span style="color:#007020;font-weight:bold">if</span> (transform.position.y <span style="color:#666">&lt;</span> <span style="color:#40a070">0</span>)
        {
            colorToSet.a <span style="color:#666">=</span> Map(transform.position.y, <span style="color:#666">-</span><span style="color:#40a070">.45f</span>, <span style="color:#666">-</span><span style="color:#40a070">.0f</span>, <span style="color:#40a070">0</span>, <span style="color:#40a070">1</span>);
        }
        <span style="color:#007020;font-weight:bold">else</span> <span style="color:#007020;font-weight:bold">if</span> (transform.position.y <span style="color:#666">&gt;</span> <span style="color:#40a070">0</span>)
        {
            colorToSet.a <span style="color:#666">=</span> Map(transform.position.y, <span style="color:#40a070">.225f</span>, <span style="color:#40a070">.45f</span>, <span style="color:#40a070">1</span>, <span style="color:#40a070">0</span>);
        }

        GetComponent<span style="color:#666">&lt;</span>Renderer<span style="color:#666">&gt;</span>().material.color <span style="color:#666">=</span> colorToSet;

    }
    ...</code></pre></div>
So what’s different? First, we now need to create a Color variable, and in <code>Start()</code> we set it to the Color our Object has. Therefore, we can still define the color conveniently via the Material. We need to do this because we can’t directly set the alpha value of a color on the material itself. We can though on a variable. So the last thing in <code>Update()</code> we do, is to update the color.<br>
In between do our typical movement and also change the alpha value of our color based on position on the Y axis. <code>ColorToSet.a</code> accesses the alpha component. What do we set it to? We use a method call and pass it five values! So let’s look at the <code>Map()</code> method.<br>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">    <span style="color:#902000">float</span> <span style="color:#06287e">Map</span>(<span style="color:#902000">float</span> value, <span style="color:#902000">float</span> oldMin, <span style="color:#902000">float</span> oldMax, <span style="color:#902000">float</span> newMin, <span style="color:#902000">float</span> newMax)
    {
        <span style="color:#902000">float</span> oldAbs <span style="color:#666">=</span> value <span style="color:#666">-</span> oldMin;
        <span style="color:#902000">float</span> oldMaxAbs <span style="color:#666">=</span> oldMax <span style="color:#666">-</span> oldMin;
        <span style="color:#902000">float</span> normal <span style="color:#666">=</span> oldAbs <span style="color:#666">/</span> oldMaxAbs;
        <span style="color:#902000">float</span> newMaxAbs <span style="color:#666">=</span> newMax <span style="color:#666">-</span> newMin;
        <span style="color:#902000">float</span> newAbs <span style="color:#666">=</span> newMaxAbs <span style="color:#666">*</span> normal;
        <span style="color:#902000">float</span> clampedNew <span style="color:#666">=</span> Mathf.Clamp01(newAbs <span style="color:#666">+</span> newMin);
        <span style="color:#007020;font-weight:bold">return</span> clampedNew;
    }</code></pre></div>
The <code>Map()</code> method takes in a float value and values for two ranges. With it, you can transfer values from one range to the other. In our example, we have a range between <code>0.225</code> for the Upper Mid Cuboid and <code>0.45</code> for the Upper Cuboid. During this range we want to fade out the cuboid. But the Alpha values range from 0 to 1. Using this method we can easily convert between them.<br>
Imagine having all this in your code each time we call the <code>Map()</code> method. And yes, we surely could shorten this code. I hope you can see we not only shortened our code, but we also made sure we didn’t repeat ourselves. If now we have a problem with this mapping, we can then easily work through this method and fixing this problem will all the problem will fix all the problems with mapping.</p>

<h3 id="magic-numbers">Magic Numbers</h3>

<p>In this example, you see some me using actual numbers/values as parameters. I.e.:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">	colorToSet.a <span style="color:#666">=</span> Map(transform.position.y, <span style="color:#666">-</span><span style="color:#40a070">.45f</span>, <span style="color:#666">-</span><span style="color:#40a070">.0f</span>, <span style="color:#40a070">0</span>, <span style="color:#40a070">1</span>);</code></pre></div>
While the <code>0</code> and <code>1</code> are probably fine, because there is no real typical reason to change those, for the others there might be a reason. Those are “magic numbers”. Numbers in the code that magically define how something works or doesn’t. You typically should avoid them at all costs. Create a variable for them! Magic numbers can be a real pain in the a** to debug, especially if you come back to code later.<br>
I left them, so I could make this point. You shouldn’t!</p>

<h3 id="colors-in-unity">Colors in Unity</h3>

<p>We have been working with colors for a while now, but it always was manually selecting them through the Unity Editor. And you will see that this has some advantages to it. <em>But</em> setting and manipulating color has its value, so we will look into it! <br>
<blockquote class="book-hint warning">
  Color is a complex matter on so, so many levels. This sub-chapter will discuss color on a superficial level and how you could deal with it in Unity. A <em>slightly</em> deeper discussion can be found in Chapter 11. In this chapter, I will assume that you, as an interested person, have some basic knowledge about basic digital color theory. If you do not understand what RGB and HSL are, check the <em>expand</em> directly below.
</blockquote>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <h4 id="the-most-important-ideas-about-digital-color">The most important ideas about digital color</h4>

<p>Everything we are designing in Unity right now is supposed to be displayed on a screen. Screens, in contrast to printed imagery, emit light. As it turns out adding red, green and blue light in the correct proportions will give you white light. Every pixel on your screen consist of these three colors. We thus talk about the <em>additive</em> color. Mixing these three components together will give us a very wide range of perceptible colors to display. For example mixing Red and Green will give you Yellow. Blue and Green will result in Cyan.<br>
While this concept is very nice for computers to understand, we typically don’t talk about color in terms of a combination of red, green and blue. <br>
“The suspect wore a 50% red, 50% green and 100% blue sweater.” <br>
Yeah, we don’t do that. We say: <br>
“The suspect wore a light blue sweater.” <br>
Therefore people came up with “HSL”/”HSV” or Hue, Saturation and Lightness/Value. Now we can define a hue around the color wheel, the saturation and its lightness or brightness. From a programming point of view, it also makes some color manipulations easier, because we can access the more “human readable” components directly. <br>
    </div>
  </label>
</div>

Color is its own <em>type</em> in Unity. This means colors need to be created using the <code>new</code> Keyword. The arguments we can pass to the constructor are red, green, blue, and an optional alpha value. The values you need to supply the method will be floats ranging between 0 and 1. Everything beyond 1 will simply be clamped at 1.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">Color myRed <span style="color:#666">=</span> new Color(<span style="color:#40a070">1</span>,<span style="color:#40a070">0</span>,<span style="color:#40a070">0</span>); <span style="color:#60a0b0;font-style:italic">// This would be pure red
</span><span style="color:#60a0b0;font-style:italic"></span>Color myGreen <span style="color:#666">=</span> new Color(<span style="color:#40a070">0</span>,<span style="color:#40a070">1</span>,<span style="color:#40a070">0</span>); <span style="color:#60a0b0;font-style:italic">// This would be pure green
</span><span style="color:#60a0b0;font-style:italic"></span>Color myBlue <span style="color:#666">=</span> new Color(<span style="color:#40a070">0</span>,<span style="color:#40a070">0</span>,<span style="color:#40a070">1</span>); <span style="color:#60a0b0;font-style:italic">// This would be pure green;
</span><span style="color:#60a0b0;font-style:italic"></span>Color myTransparent <span style="color:#666">=</span> new Color(<span style="color:#40a070">.5f</span>, <span style="color:#40a070">.5f</span>, <span style="color:#40a070">.5f</span>, <span style="color:#40a070">.5f</span>); <span style="color:#666">//</span> This would be a transparent middle gray</code></pre></div>
<blockquote class="book-hint info">
  Unity comes with some static colors, which you can use for convenience. <code>Color.black</code> for example, could be used just to quickly define a default value.
</blockquote>

Given this, working with colors is pretty much straightforward. A little awkward, is assigning the colors. We need to access the Color Component on the Material Component on the Renderer Component on our object. It’s a long line of code for just a small assignment and it looks like this:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">GetComponent<span style="color:#666">&lt;</span>Renderer<span style="color:#666">&gt;</span>().material.color <span style="color:#666">=</span> new Color(<span style="color:#40a070">1</span>,<span style="color:#40a070">0</span>,<span style="color:#40a070">0</span>);</code></pre></div>
While we can now change the color, we can just switch it to pre-defined values. How about we try to create a little more flexibility? <br>
Luckily Unity provides us with some Methods to retrieve or set colors differently using the Hue, Saturation and Value approach.<br>
Setting HSV Colors works very similar to creating Colors using the RGBA approach. Instead of red, green and blue, we define values for hue, saturation and value as floats.
- <div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-C" data-lang="C">Color myColor <span style="color:#666">=</span> Color.HSVToRGB(<span style="color:#40a070">0</span>,<span style="color:#40a070">1</span>,<span style="color:#40a070">1</span>);</code></pre></div>
But it also yields the same results. We can define a color. We just use other means to do so. More interesting would be to actually manipulate colors. Unity does not provide a way to do this out of the box. But we can build our own manipulation tools! <br>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> h,s,v;
Color currentColor <span style="color:#666">=</span> GetComponent<span style="color:#666">&lt;</span>Renderer<span style="color:#666">&gt;</span>().material.color;
Color.RGBToHSV(currentColor, out h, out s, out v);
h <span style="color:#666">+=</span> <span style="color:#40a070">0.05f</span>;
<span style="color:#007020;font-weight:bold">if</span>(h <span style="color:#666">&gt;</span> <span style="color:#40a070">1</span>){
	h <span style="color:#666">-</span> <span style="color:#40a070">1</span>;
}
GetComponent<span style="color:#666">&lt;</span>Renderer<span style="color:#666">&gt;</span>().material.color <span style="color:#666">=</span> Color.HSVToRGB(h,s,v);</code></pre></div>
The code for this starts growing and will also use some syntax we haven’t seen so far and yet it is rather straightforward. First, we need to declare variables for hue, saturation, and value. All of them will be handled as values between 0 and 1 and thus are defined as floats. Then we create a variable for our current color of the GameObject and retrieve it. <br>
Then we use a “static” method on the color class which we pass the current color and tell it to which variables it should assign the three HSV values.<br>
With those now assigned, we can manipulate one of those values. Here we choose Hue to shift the color around the color wheel. We also add a Condition to check if we surpass 1, if so, we subtract 1 to make sure we start on the other side of the color wheel again.<br>
Finally, we construct a new color from hue, saturation and value and assign it back to our Square.
<figure>
    <img src="/img/MethodColorShift.gif" width="75%"/> <figcaption>
            <h4>Cuboids Shifting on the X Axis</h4>
        </figcaption>
</figure>

In the above example, you can see this working on button press. You can see this works relatively okay for monochromatic color schemes. You will find that this approach will fail on other color schemes. But try it!
Here is the full code:
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <script type="application/javascript" src="https://gist.github.com/HGieselmann/6b47e6aeda78995e404c2dd7d4ddc274.js"></script>
    </div>
  </label>
</div>
</p>

<h3 id="color-math">Color Math</h3>

<p>Unity also allows for doing basic math operations between Colors. The following Code would give you magenta.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">Color myColor <span style="color:#666">=</span> Color.Red <span style="color:#666">+</span> Color.Blue;</code></pre></div>
Color math is actually just Vector Math. And Vector Math is nothing else as separating the components and dealing with red, green and blue one at a time.</p>

<h3 id="gradients">Gradients</h3>

<p><figure>
    <img src="/img/MethodFadingWithGradient.gif" width="75%"/> <figcaption>
            <h4>Cuboids shifting, fading and evaluating a Gradient</h4>
        </figcaption>
</figure>

Another way very pleasing way to work with colors is gradients. While you could define your Gradients through code, we will just look defining them in the editor and then evaluating them at runtime. While this is like shifting colors around, it will also give us more artistic control, which is always nice. <br>
To create a gradient, we declare it as a global variable. <br>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">[SerializeField]
 private Gradient popGradient <span style="color:#666">=</span> new Gradient();</code></pre></div>
We can now create our gradient inside the Unity by clicking on the white color bar in the editor.
<figure>
    <img src="/img/Gradient.jpg" width="75%"/> <figcaption>
            <h4>Gradient Tool in Unity</h4>
        </figcaption>
</figure>

On the “Gradient” pop-up window, you can define the gradient by adding new colors on the bottom bar and alpha values on the top bar. In this sketch, I calculated and added alpha separately to the mix. <br>
In code, we can then evaluate the color at a position between 0 and 1 or left and right.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">Color curGradientColor <span style="color:#666">=</span> popGradient.Evaluate(transform.position.y <span style="color:#666">+</span> <span style="color:#40a070">0.45f</span>);</code></pre></div>
As you can see, any value can be used to evaluate this. For my sketch, the position in Y makes sense to use.
You can see the full code here:
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <script type="application/javascript" src="https://gist.github.com/HGieselmann/cfbb7a7231876dedc8d738da35cdd65c.js"></script>
    </div>
  </label>
</div>
</p>

<h3 id="randomness-and-noise">Randomness and Noise</h3>

<p>Noise and randomness are two key ingredients in creating generative art. They allow you to create ever evolving and always changing things. Depending on the depths of layering you create these will virtually never repeat. <br>
Randomness will generate completely random values each time you call the method. Randomness has no concept of the previous value or any connection to it. All it knows about it the rage in which it is supposed to generate values.
Noise is related to randomness as it returns different values over time. Yet these are not random, they have a pattern and will repeat over time. Noise is great, because it’s very flexible. You can configure it to throw values that seem almost random yet you can also return very smooth values. Here is a simple comparisson of the two:
<figure>
    <img src="/img/MethodCuboidsRandomNoiseComparisson.gif" width="75%"/> <figcaption>
            <h4>Randomness and noise</h4>
        </figcaption>
</figure>

Yet they are also a major source of creating uninteresting and bland work. Especially Randomness. As a designer you want to have control over your work and it’s outcome. You want to transform the randomness to make use of it’s power and yet never bend to its rules. <br>
Thus to understand the problems of Randomness lets create a bad example! - Random Color: <br>
<figure>
    <img src="/img/MethodShiftingRandomColor.gif" width="75%"/> <figcaption>
            <h4>Random Color each Frame</h4>
        </figcaption>
</figure>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <script type="application/javascript" src="https://gist.github.com/HGieselmann/5d77e97c9581371868eeb03f9923981e.js"></script>
    </div>
  </label>
</div>

To be fair, probably no one would code this and be utterly pleased with himself. And yet creating colors or movement this way is tempting. But you should resists the urge if you can. <br>
But! There are many great thing randomness allows us to do. So let’s first look at how to actually get random numbers back from the computer.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> myRandom <span style="color:#666">=</span> Random.Range(<span style="color:#40a070">0f</span>, <span style="color:#40a070">1f</span>);</code></pre></div>
In essence it’s as easy as calling the <code>Random.Range()</code> method and passing it two values for the minimum and maximum numbers you want to get in return. Yet there are a few Gotchas. <br>
The <code>Random.Range()</code> method has a few “overloads”. Overloads essentially allows to define one and the same method multiple times, yet the compiler chooses which one of those to use based on the arguments you pass it. And for beginners this really is a nasty trap. Look at these two lines of code:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> myFirstFloat <span style="color:#666">=</span> Random.Range(<span style="color:#40a070">0</span>,<span style="color:#40a070">1</span>);
<span style="color:#902000">float</span> mySecondFloat <span style="color:#666">=</span> Random.Range(<span style="color:#40a070">0f</span>, <span style="color:#40a070">1f</span>);</code></pre></div>
Would you expect the first and second float to return the same of values? Values between 0 and 1? One might think so, but no! The first <code>Random.Range()</code> takes in integers! <br>
Okay! So The first one returns integers. It must return either 0 or 1! Wrong again. It always returns 0. <br>
Now you might be in a state of confusion. And thats fair. <code>Random.Range()</code> for integers is not inclusive for the higher number. Its “up to but not including 1”. If you wanted to get values between 0 and 1 you would need to pass 2 as the higher value and so forth:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">int</span> myInt <span style="color:#666">=</span> Random.Range(<span style="color:#40a070">0</span>,<span style="color:#40a070">2</span>); <span style="color:#666">//</span> Returns either <span style="color:#40a070">0</span> or <span style="color:#40a070">1</span></code></pre></div>
<code>Random.Range()</code> for floats on the other side IS inclusive, thus if you pass it 0 and 1 as floats it will include 0 and 1. But you have to make sure to put those <code>f</code>s in there. Technically one would be enough, but I think this is more specific:
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> myFloat <span style="color:#666">=</span> Random.Range(<span style="color:#40a070">0f</span>, <span style="color:#40a070">1f</span>);</code></pre></div>
<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <blockquote class="book-hint info">
  <h4 id="overloading-methods">Overloading methods</h4>

<p>You can create these overloads for methods in your own code as well. Just define two or more methods with one and the same name and different numbers of arguments. But make sure it actually makes sense to create overloads, as you can see, this can lead to some confusion and thus quickly can lead to bugs, especially if you work with other people on a team.
</blockquote>
    </div>
  </label>
</div>

With this technical weirdness out of the way, let us look at actually creating more interesting results than the color craze up there. <br>
Randomness isn’t really a great choice to create animation, due to it’s in-continuous nature. But it is a great way to do choices. Thus we could change the color of our cuboids based on a random value. But instead of doing this each frame and creating absolutely random colors, we can do it on condition and only choose from a certain set of colors:
<figure>
    <img src="/img/MethodCuboidsBauhausSplit.gif" width="75%"/> <figcaption>
            <h4>Choosing random color from collection</h4>
        </figcaption>
</figure>

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>Expand</span>
      <span>↕</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <script type="application/javascript" src="https://gist.github.com/HGieselmann/91ac048488ae7c080ebb5a600ac7d242.js"></script>
    </div>
  </label>
</div>

Given, this isn’t our sweetest result so far, but it is a lot better and feels more consistent than the complete Randomness in the beginning. But we will use the concept of randomness more and more throughout the next chapters.</p>

<h4 id="noise">Noise</h4>

<p>We established earlier how noise is different, so let us jump straight into using it.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> myNoise <span style="color:#666">=</span> Mathf.Perlin(Time.time, Time,time);</code></pre></div>
As you can see the noise method is located inside the <code>Mathf</code> namespace and it’s called Perlin. The noise method C# implements is actually “Perlin Noise” which was invented by Ken Perlin in 1983. The way this noise works is, we look up a position in X and Y on a black and white noise plane. The result is returned as a float. This means, if you need animated noise, you need to pass values to the method that are changing over time. Like Time.
<figure>
    <img src="/img/MethodCuboidsRandomNoiseShifting.gif" width="75%"/> <figcaption>
            <h4>Noise Shifting</h4>
        </figcaption>
</figure>

What you can see here nicely is how the patterns in the noise repeats with time.
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#902000">float</span> noiseX <span style="color:#666">=</span> Mathf.PerlinNoise(Time.time <span style="color:#666">*</span> movementScale <span style="color:#666">+</span> timeOffset, Time.time <span style="color:#666">+</span> timeOffset); <span style="color:#902000">float</span> noiseZ <span style="color:#666">=</span> Mathf.PerlinNoise(Time.time <span style="color:#666">*</span> movementScale <span style="color:#666">+</span> timeOffset <span style="color:#666">+</span><span style="color:#40a070">.5f</span>, Time.time <span style="color:#666">+</span> timeOffset <span style="color:#666">+</span><span style="color:#40a070">.5f</span>); transform.position <span style="color:#666">=</span> new Vector3(noiseX, transform.position.y, noiseZ );</code></pre></div>
Getting this kind of animation relies on two kinds of Offsets. The first offset I put as a hard coded <code>0.5f</code> for the noiseZ value. This will guarantee that the movement will not just happen along one axis. <br>
The other offset is a custom offset per cuboid you can set in the Editor. This Offset will create the time offset you can create for the cuboids. You can play around with this value and the order in which you set the offset to create different results.
We will come across noise lot’s more over the following chapters.</p>

<h3 id="projects">Projects</h3>

<h4 id="project-1-br">Project 1: <br></h4>

<p>The first thing I suggest you do is, go through the scripts you have written so far and refactor them. An for at least a few, try not to rely on the refactoring help of your IDE. Get the concept o writing them engraved into your brain!.<br></p>

<h4 id="projects-2-br">Projects 2:<br></h4>

<p>While methods don’t actually allow is to do something utterly new, it allows is creating things that aren’t horribly tedious to do. So here are some more examples for our Cuboid: Go check them out.<br>
Add more examples here using methods</p>

<h4 id="projects-3-br">Projects 3:<br></h4>

<p>Noise Walker
Low poly Example
More advanced land speeder?</p>

<ul>
<li>animated Randomness</li>
<li>recreate an image each touch</li>
<li>Suprematism</li>

<li><p>can we implement design rules to get “non random results”</p></li>

<li><p>Land speeder with things placed through noise</p></li>

<li></li>
</ul>

<h3 id="additional-resources">Additional Resources:</h3>

<p> - <a href="https://vimeo.com/75313908">Ari Danish - Working with Noise</a> <br></p>
</article>

      

      
    </div>

    
  

  <aside class="book-toc levels-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#05-methods">05 - Methods</a>
<ul>
<li>
<ul>
<li><a href="#defining-methods">Defining methods</a></li>
<li><a href="#method-arguments">Method Arguments</a></li>
<li><a href="#magic-numbers">Magic Numbers</a></li>
<li><a href="#colors-in-unity">Colors in Unity</a></li>
<li><a href="#color-math">Color Math</a></li>
<li><a href="#gradients">Gradients</a></li>
<li><a href="#randomness-and-noise">Randomness and Noise</a>
<ul>
<li><a href="#noise">Noise</a></li>
</ul></li>
<li><a href="#projects">Projects</a>
<ul>
<li><a href="#project-1-br">Project 1: <br></a></li>
<li><a href="#projects-2-br">Projects 2:<br></a></li>
<li><a href="#projects-3-br">Projects 3:<br></a></li>
</ul></li>
<li><a href="#additional-resources">Additional Resources:</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
